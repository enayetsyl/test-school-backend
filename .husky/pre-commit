#!/usr/bin/env sh
set -e

echo "ğŸ” Linting staged files..."
npx lint-staged

# If any TS/TSX files are staged, run typecheck + build
if git diff --cached --name-only | grep -E '\.(ts|tsx)$' >/dev/null; then
  echo "ğŸ§ª Type checking..."
  npm run typecheck --silent

  echo "ğŸ—ï¸ Building..."
  npm run build --silent
else
  echo "â­ï¸  No TS changes staged; skipping typecheck/build."
fi
